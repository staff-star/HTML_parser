# うまくいかない入力例と改善策

| ケース | 問題点 | 改善方法 |
| --- | --- | --- |
| 一行に全情報を詰め込む | `商品名=...名称=...原材料=...` のように区切りが曖昧 | 項目ごとに改行し、`項目名：値` の形式に揃える |
| 栄養成分の単位が欠落 | `エネルギー：595` のように単位なし | `kcal` や `g` 等の単位を付与すると換算や表示が安定 |
| HTMLタグが大量に混入 | `<td>` などが多数入っていると項目検出が難しい | HTMLを削除する / プレーンテキストにしてから貼り付け |
| PDFコピー直後 | 改行とスペースが無秩序で数値だけ抜き出される | まずテキストエディタで整形し、`商品名` 等のラベルを追加 |
| CSVで1列のみ | `値` 列しかないCSV | 項目名列を追加するか、テキスト形式に貼り付け |
| 異常に長い文章 | 10万文字を超えるパンフレット全文など | 重要部分を抜粋して複数回に分けて登録 |

## よくある症状

### 項目が「未知の項目」扱いになる
- 見出しにコロンが付いていない (`商品名 チョコレート`)
- 見出しの末尾に余分な記号 (`商品名：：`)
- 20文字を超える長い見出し (`商品名（※納品書記載名）`)

### 栄養成分が抽出されない
- 数値の直後に単位がない (`脂質：5`)
- 1行に複数の項目が混在 (`エネルギー：595kcal  たんぱく質：6.7g`)
- `Na` など略語のみで表記されている (例: `Na：120mg` → `ナトリウム：120mg` に変更)

### HTML出力が空
- 必須項目がすべて欠落 (`商品名` や `栄養成分` が無い)
- 入力が完全に空、または空白のみ
- CSVの判定に失敗し、中身がヘッダーのみ

上記に該当する場合は `docs/good_examples.md` を参考に最小限のラベルと単位を補ってください。
